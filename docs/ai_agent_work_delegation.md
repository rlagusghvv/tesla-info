# AI 에이전트 업무 분담(멀티에이전트) — 현재 문제/해결안

## 관찰된 문제(왜 "엉망"처럼 보이나)
- 서로 다른 레포/서비스가 섞임
  - `coupang-automation`(기존 기능/Express+DB+업로드 파이프라인)
  - `tesla-info/_repo/coupang-elephant`(신규 UI/Next)
- "메인 URL"과 "실제 기능"이 다른 서버에서 돌아가서, 작업이 반영돼도 사용자가 보는 화면이 안 바뀌는 구간이 있었음.
- 봇/세션별로 Telegram 발화 권한이 제각각 → 진행 공유가 끊김.
- "작업 완료 정의"(MVP acceptance)가 코드/테스트 기준으로 고정되지 않음.

## 목표(대표 요구사항)
- 한 URL(`https://app.splui.com/app/`)에서:
  - 새 디자인 유지
  - 기존 기능이 즉시 사용 가능(임베드/프록시 포함)
  - 추천 → 다중 선택 → 배치 업로드가 안정적으로 큐에 들어가고 실행됨

## 해결 방향(운영 프로세스)
### 1) 역할을 코드/문서로 고정
- 팀장: 오더 분할/우선순위/최종 보고/배포 책임
- 작업자(backend/ui/data/ops): “작업 범위 + 완료조건 + 산출물 위치”를 MD에 적고 시작
- 정리자: MD 취합해 1차 요약

### 2) "완료"를 체크리스트로 정의(테스트 가능)
- 최소 Acceptance(예: 10개 추천 선택→enqueue 성공률 100%, 큐 실행 10개 중 8개 이상 업로드 성공, 실패는 명확한 코드/가이드)
- 재현 커맨드/URL/스크린샷을 MD에 남김

### 3) 커뮤니케이션을 단일 채널로
- 실시간: 텔레그램은 팀장만(요청 시)
- 비동기: `docs/HANDOFF.md` + `current_progress.md` + 각 테스크별 `docs/task_*.md`

### 4) 반영 경로를 단순화
- 추천/업로드 기능은 당분간 `coupang-automation`(3000) API를 기준으로 유지
- Next(3333)는 UI 껍데기 + 임베드/프록시로 점진 이식

## 즉시 적용 가능한 구조(OpenClaw 내부)
- 각 작업을 sub-agent로 생성하고(텔레그램 금지), 결과를 파일로만 기록.
- 팀장은 일정 간격으로 MD 파일을 확인해 배포/검증.

---

# 다른 LLM에 물어볼 프롬프트(복붙용)

## Prompt 1 — 멀티에이전트 운영 설계
"AI 에이전트(여러 개)가 한 프로젝트를 동시에 개발할 때, 업무가 엉키지 않도록 하는 운영 체계를 설계해줘.
조건:
- 실시간 채팅(예: Telegram)은 팀장 1명만 말한다.
- 작업자들은 파일(MD)로만 작업 로그/결과를 남긴다.
- 코드베이스가 2개(기존 백엔드/레거시 UI vs 신규 프론트)가 공존한다.
- 배포/반영 경로가 헷갈려서 사용자가 '아무것도 안 바뀐다'고 느끼는 문제가 있다.
원하는 출력:
1) 역할 정의(팀장/정리자/작업자)
2) 테스크 분해 방법(Definition of Done 포함)
3) 진행 공유/리스크 관리/충돌 방지 규칙
4) '메인 URL에 반영'을 보장하는 체크리스트
" 

## Prompt 2 — 레거시+신규 UI 공존 시 이식 전략
"레거시 서버(Express, API/콘솔)와 신규 프론트(Next.js)가 공존할 때,
사용자가 보는 단일 URL 아래에서 기능을 점진 이식하는 최적 전략을 제안해줘.
제약:
- 당장 기능을 깨지 않게(working code 최소 변경)
- 프록시/임베드로 1차 이식 가능
- 이후 점진적으로 native UI로 교체
출력:
- 단계별 로드맵 + 가장 먼저 옮길 화면/기능 우선순위
- 인증/세션/쿠키 문제를 안전하게 해결하는 방법
" 
